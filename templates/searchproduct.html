{% load static %}

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>FurniFlex</title>

    <link rel="stylesheet" href="{% static 'css/searchproduct.css' %}" />
    <script defer src="{% static 'script.js' %}"></script>

    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet" />
    <!-- <script defer src="static/script.js"></script> -->
</head>

<body>

    {% include 'navbar.html' %}
    <script>

        document.addEventListener('DOMContentLoaded', () => {
            const navLinks = document.querySelectorAll('.nav-link');

            navLinks.forEach(link => {
                link.addEventListener('click', () => {
                    navLinks.forEach(l => l.classList.remove('active'));
                    link.classList.add('active');
                });
            });
        });

        function smoothScroll(target, duration) {
            const targetPosition = target.getBoundingClientRect().top + window.pageYOffset;
            const startPosition = window.pageYOffset;
            const distance = targetPosition - startPosition;
            let startTime = null;

            function animation(currentTime) {
                if (startTime === null) startTime = currentTime;
                const timeElapsed = currentTime - startTime;
                // easing function for smoothness (easeInOutCubic)
                const run = easeInOutCubic(timeElapsed, startPosition, distance, duration);
                window.scrollTo(0, run);
                if (timeElapsed < duration) {
                    requestAnimationFrame(animation);
                }
            }

            // easeInOutCubic easing function
            function easeInOutCubic(t, b, c, d) {
                t /= d / 2;
                if (t < 1) return c / 2 * t * t * t + b;
                t -= 2;
                return c / 2 * (t * t * t + 2) + b;
            }

            requestAnimationFrame(animation);
        }

        // Attach smooth scroll event to nav links with class 'nav-link'
        document.querySelectorAll('a.nav-link').forEach(link => {
            link.addEventListener('click', function (e) {
                e.preventDefault();
                const targetID = this.getAttribute('href').substring(1);
                const targetSection = document.getElementById(targetID);
                if (targetSection) {
                    smoothScroll(targetSection, 700); // 600ms duration for smooth scroll
                }
            });
        });
    </script>

    <!-- Search and Category Section -->
    <section class="search-category-section">
        <div class="search-container">
            <!-- Search Bar -->
            <div class="search-bar">
                <span class="search-icon">üîç</span>
                <input type="text" placeholder="What are you looking for?" class="search-input" />
            </div>

            <!-- Search Button -->
            <button class="search-button">Search</button>
        </div>

        <!-- Category Dropdown -->
        <div class="category-dropdown">
            <button class="category-button" id="categoryBtn">
                Select Categories
                <span class="dropdown-arrow">‚ñº</span>
            </button>
            <ul class="category-menu" id="categoryMenu">
                <li>Sofa</li>
                <li>Beds</li>
                <li>Chair</li>
                <li>Table</li>
                <li>Wardrobe</li>
            </ul>
        </div>
        <script>
            const categoryBtn = document.getElementById('categoryBtn');
            const categoryMenu = document.getElementById('categoryMenu');

            categoryBtn.addEventListener('click', () => {
                const isVisible = categoryMenu.style.display === 'block';
                categoryMenu.style.display = isVisible ? 'none' : 'block';
            });

            // Close dropdown if clicked outside
            document.addEventListener('click', (event) => {
                if (!categoryBtn.contains(event.target) && !categoryMenu.contains(event.target)) {
                    categoryMenu.style.display = 'none';
                }
            });

            const categoryItems = document.querySelectorAll('#categoryMenu li');

            categoryItems.forEach(item => {
                item.style.cursor = 'pointer'; // Make items look clickable

                item.addEventListener('click', () => {
                    // Get the clicked category name and encode it for URL
                    const categoryName = encodeURIComponent(item.textContent.trim());
                    // Redirect to Django category view with query parameter
                    window.location.href = `/category/?type=${categoryName}`;
                });
            });
        </script>

    </section>

    <!-- Divider -->
    <hr class="section-divider" />
    <!-- Products Section -->
    <section id="products" class="products-section">
        <div class="products-header">
            <h2>Products</h2>
        </div>

        <div class="product-grid">
            <div class="product-card">
                <img src="{% static 'images/chair.png' %}" alt="S-Series Comfort Chair" />
                <h4>S-Series Comfort Chair</h4>
                <p class="price">Rs.7375</p>
                <div class="rating" data-selected="0">
                    <span class="star" data-value="1">‚òÖ</span>
                    <span class="star" data-value="2">‚òÖ</span>
                    <span class="star" data-value="3">‚òÖ</span>
                    <span class="star" data-value="4">‚òÖ</span>
                    <span class="star" data-value="5">‚òÖ</span>
                    <span class="review-count">(50 Reviews)</span>
                </div>
            </div>

            <div class="product-card">
                <img src="{% static 'images/sofa.png' %}" alt="BACKSALEN" />
                <h4>BACKSALEN</h4>
                <p class="price">Rs.65000</p>
                <div class="rating" data-selected="0">
                    <span class="star" data-value="1">‚òÖ</span>
                    <span class="star" data-value="2">‚òÖ</span>
                    <span class="star" data-value="3">‚òÖ</span>
                    <span class="star" data-value="4">‚òÖ</span>
                    <span class="star" data-value="5">‚òÖ</span>
                    <span class="review-count">(100 Reviews)</span>
                </div>
            </div>

            <div class="product-card">
                <img src="{% static 'images/b.png' %}" alt="Bed" />
                <h4>Bed</h4>
                <p class="price">Rs.80360</p>
                <div class="rating" data-selected="0">
                    <span class="star" data-value="1">‚òÖ</span>
                    <span class="star" data-value="2">‚òÖ</span>
                    <span class="star" data-value="3">‚òÖ</span>
                    <span class="star" data-value="4">‚òÖ</span>
                    <span class="star" data-value="5">‚òÖ</span>
                    <span class="review-count">(500 Reviews)</span>
                </div>
            </div>

            <div class="product-card">
                <img src="{% static 'images/w.png' %}" alt="Small BookShelf" />
                <h4>Small BookShelf</h4>
                <p class="price">Rs.18060</p>
                <div class="rating" data-selected="0">
                    <span class="star" data-value="1">‚òÖ</span>
                    <span class="star" data-value="2">‚òÖ</span>
                    <span class="star" data-value="3">‚òÖ</span>
                    <span class="star" data-value="4">‚òÖ</span>
                    <span class="star" data-value="5">‚òÖ</span>
                    <span class="review-count">(15 Reviews)</span>
                </div>
            </div>
        </div>
    </section>
    <script>
        // Select all product cards
        const productCards = document.querySelectorAll('.product-card');

        productCards.forEach(card => {
            card.style.cursor = 'pointer'; // show pointer cursor on hover

            card.addEventListener('click', () => {
                // Redirect to customize page when clicked
                window.location.href = '/customize';
            });
        });
    </script>

    <!-- About Us Section -->
    <section id="about" class="about-section">
        <h2>About Us</h2>
        <div class="about-container">
            <div class="about-image">
                <img class="responsive-img" src="{% static 'images/cover.jpeg' %}" alt="Modern Living Room" />
            </div>
            <div class="about-content">
                <h3>Affordable furniture for every home</h3>
                <p>
                    FurniFlex is a modern digital platform built to help you plan, visualize, and customize furniture
                    that fits your lifestyle and space‚Äîwithout the pressure of online shopping. We‚Äôre not an e-commerce
                    site. Instead, we focus entirely on empowering users to explore different furniture styles, sizes,
                    materials, and color options in a creative and personalized way.
                </p>
                <p>
                    Whether you're a homeowner trying to find the right sofa size for your living room, a student
                    decorating a dorm, or an interior designer experimenting with ideas, FurniFlex is made for you.
                </p>
            </div>
        </div>
    </section>

    <!-- Contact Us Section -->
    <section id="contact" class="contact-section">
        <h2>Contact Us</h2>
        <div class="contact-wrapper">
            <!-- Contact Info Box -->
            <div class="contact-info">
                <div class="info-block">
                    <img class="responsive-img-small" src="{% static 'images/call.png' %}" alt="Call Icon" />
                    <div>
                        <h4>Call To Us</h4>
                        <p>We are available 24/7, 7 days a week.</p>
                        <p>Phone: +977 9768467330</p>
                    </div>
                </div>
                <hr />
                <div class="info-block">
                    <img class="responsive-img-small" src="{% static 'images/msg.png' %}" alt="Mail Icon" />
                    <div>
                        <h4>Write To Us</h4>
                        <p>Fill out our form and we will contact you within 24 hours.</p>
                        <p>Emails: customer@gmail.com</p>
                        <p>Emails: furniflex@gmail.com</p>
                    </div>
                </div>
            </div>

            <!-- Contact Form -->
            <form class="contact-form">
                <div class="form-row">
                    <input type="text" placeholder="Your Name *" required />
                    <input type="email" placeholder="Your Email *" required />
                    <input type="tel" placeholder="Your Phone *" required />
                </div>
                <textarea placeholder="Your Message" rows="5" required></textarea>
                <button type="submit">Send Message</button>
            </form>
        </div>
    </section>



</body>
{% include 'footer.html' %}



</html>